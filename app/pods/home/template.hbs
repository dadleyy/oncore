<CaseOf @kind={{this.model}} as |case|>
  <case.err>
    <div data-role="error">{{t "errors.home.failed_load"}}</div>
  </case.err>
  <case.ok as |model|>
    <div class="mb-2">
      <button data-role="create-table" type="button" {{on "click" this.createTable}}>{{t "home.create_table"}}</button>
    </div>
    <table class="table-fixed w-full">
      <thead>
        <tr>
          <th>{{t "home.columns.table_id"}}</th>
          <th>{{t "home.columns.actions"}}</th>
        </tr>
      </thead>
      <tbody>
        {{#each model.rows key="table.id" as |row|}}
          <tr data-table-id={{row.table.id}} data-table-version={{row.table.nonce}}>
            <td>{{row.table.name}}</td>
            <td>
              {{#if row.joined}}
                <LinkTo @route="tables.single-table" @model={{row.table.id}}>{{t "home.actions.view_table"}}</LinkTo>
                <a href="#" {{on "click" (fn this.leaveTable row.table)}}>{{t "home.actions.leave_table"}}</a>
              {{else}}
                <a href="#" {{on "click" (fn this.joinTable row.table)}}>{{t "home.actions.join_table"}}</a>
              {{/if}}
            </td>
          </tr>
        {{/each}}
      </tbody>
    </table>
  </case.ok>
</CaseOf>
